#Canvas零基础实现微信8.0表情，完整教程奉上

### 写在开头

最近微信更新了8.0，其中之一最好玩的莫过于表情包的更新了，大家都在群里玩起了表情包大战。

![2021-02-01-23.44.16](https://s3.qiufengh.com/blog/2021-02-01-23.44.16.gif)

我就寻思着，是否能做一个这样的特效呢？



特效预览



我的实现预览



在线地址



github地址



### 前期研究

在写这个特效前，我几乎不会用canvas，虽然说现在也不太会用，很多 API 也不太清楚，因此这篇教程也是基于零基础 canvas 写的，大家不用担心这个教程难度太高而被劝退。我会通过零基础 canvas 的基础上来一步步实现的。不过学习这个特效之前需要一点点高中数学的知识，如果你还记得 sin 和 cos 函数，那么以下的内容对于你来说都会非常简单，不会也没关系~

我个人比较喜欢探索研究，对有意思的玩意儿就会去研究，因此我也是站在巨人的基础上，去 codepen 查了好多个类似的实现进行研究。

放各种效果图



最终将目标定位在了 [canvas-confetti](https://github.com/catdad/canvas-confetti)

### 核心实现

放运动轨迹



实现轨迹



放反转特效



实现反转特效



多粒子



### 加点餐

实现多人对战形态的表情大战。在我们微信中表情的发送并不是单点的，而是多人形态，因此我继续学习了，利用websocket 来实现实时地传递表情来实现。



利用 websocket 

复用实例



### 更多探索

利用 web worker 来进行计算



### 最后

感谢关注秋风的笔记

